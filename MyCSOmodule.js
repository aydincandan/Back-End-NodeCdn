let modulFUNCs=(e,i)=>{let r=(e,o)=>{if(null!==e&&"object"==typeof e)for(var n in e)"number"!=typeof e[n]&&"function"!=typeof e[n]&&(console.log("\t",typeof e[n],{key:n},"Buffer"===e[n]?.type,Array.isArray(e[n]?.data),Array.isArray(e[n])),Array.isArray(e[n])&&(e[n].data=o(e[n].data)),"object"==typeof e[n])&&r(e[n],o)};let t=(e,o,n)=>{var r=[];let s=[e];for(var a=new Set;0<s.length;){var t=s.pop();if("object"==typeof t&&null!==t){if(!a.has(t))for(var i in a.add(t),t)i===o?(r.push(t[i]),t[i]=n(t[i])):s.push(t[i])}else Array.isArray(t)&&t.forEach(e=>s.push(e))}return r};return{newFormData:async(e,o)=>{let s=new FormData;if(e)for(var[n,r]of Object.entries(e))s.append(n,r);if(o)for(var a of o){var t=await(async e=>{let o=!0;if(e.buffer){o=!1;var n=new Blob([e.buffer],{type:e.mimetype});s.append("attachments",n,e.originalname),console.log(e.originalname)}else if(e.redisKey){o=!1,console.log("========== ŞİMDİ BU DURUMU TEST ET ========="),process.exit(1);try{var r=await myredis.getAsync(e.redisKey);e.buffer=new Blob([r],{type:e.mimetype}),e.buffer=Buffer.from(r),s.append("attachments",e.buffer,e.originalname),console.log("redisten okunan dosya->",e.buffer)}catch(e){console.log("redisKey TTL ile zaman asimina ugramis olabiir.",e)}finally{console.log("- - - - - - - - - - - - - -")}}return o})(a);1==t&&(t=i.readFileSync(a.path),t=new Blob([t],{type:a.mimetype}),s.append("attachments",t,a.originalname))}else console.log("========== Ve çıkış ===========",o.length),console.log("newFormData",{formData:s}),console.log("========== Ve çıkış ===========",o.length);return s},response_final:(e,o,n,r,s)=>{var a={};if(a.response_final={status:n,kimden3:e.headers["x-nerden"],req_originalUrl:e.originalUrl,final_data:r},500!=n)try{t(a,"buffer",e=>e.slice(0,5))}catch(e){}return console.log("_^_^_^_^_^_^_^_^_^_^_^_^"),s&&console.log("response_final->",{verbose:s},n,a),console.log("status:",n),console.log(""),console.log(""),console.log("Browser'a dönüş yapildi Via MyCSOmodule.js"),console.log(""),console.log(""),console.log("=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|=|"),o.status(n).json(a)},isBrowser:function(){return"undefined"!=typeof window&&void 0!==window.document},isNode:function(){return"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node},isElectron:function(){return"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.electron},findAndModifyBuffer:r,GetValiumOptimized:function(e,o){var n=[];let r=[e];for(var s=new Set;0<r.length;){var a=r.pop();if("object"==typeof a&&null!==a){if(!s.has(a))for(var t in s.add(a),a)(t===o?n:r).push(a[t])}else Array.isArray(a)&&a.forEach(e=>r.push(e))}return n},findOneModify:t}};((e,o)=>{"function"==typeof define&&define.amd?define(["axios","fs"],o):"object"==typeof module&&"object"==typeof module.exports?module.exports=o(require("axios"),require("fs")):e.MyCSOmodule=o(e.axios,e.fs)})("undefined"!=typeof window?window:this,modulFUNCs);